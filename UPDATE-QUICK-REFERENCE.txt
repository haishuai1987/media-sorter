╔════════════════════════════════════════════════════════════════╗
║           服务器更新命令 - v1.2.12 快速参考                    ║
╚════════════════════════════════════════════════════════════════╝

┌────────────────────────────────────────────────────────────────┐
│ 方式 1: 一键更新（最简单）                                     │
└────────────────────────────────────────────────────────────────┘

curl -fsSL https://raw.githubusercontent.com/你的用户名/media-renamer/main/server-update-v1.2.12-simple.sh | bash


┌────────────────────────────────────────────────────────────────┐
│ 方式 2: 使用更新脚本                                           │
└────────────────────────────────────────────────────────────────┘

# 下载脚本
wget https://raw.githubusercontent.com/你的用户名/media-renamer/main/server-update-v1.2.12.sh

# 添加权限
chmod +x server-update-v1.2.12.sh

# 运行更新
./server-update-v1.2.12.sh


┌────────────────────────────────────────────────────────────────┐
│ 方式 3: 手动更新（3 条命令）                                   │
└────────────────────────────────────────────────────────────────┘

# 1. 停止服务
pkill -f "python.*app.py"

# 2. 拉取代码
git pull origin main

# 3. 启动服务
nohup python3 app.py > media-renamer.log 2>&1 &


┌────────────────────────────────────────────────────────────────┐
│ 常用命令                                                        │
└────────────────────────────────────────────────────────────────┘

# 查看服务状态
ps aux | grep "python.*app.py"

# 查看日志
tail -f media-renamer.log

# 重启服务
pkill -f "python.*app.py" && nohup python3 app.py > media-renamer.log 2>&1 &

# 检查版本
cat version.txt


┌────────────────────────────────────────────────────────────────┐
│ Docker 更新                                                     │
└────────────────────────────────────────────────────────────────┘

# Docker Compose
docker-compose pull && docker-compose up -d

# Docker 命令
docker pull your-registry/media-renamer:v1.2.12
docker stop media-renamer && docker rm media-renamer
docker run -d --name media-renamer -p 8090:8090 your-registry/media-renamer:v1.2.12


┌────────────────────────────────────────────────────────────────┐
│ 验证更新                                                        │
└────────────────────────────────────────────────────────────────┘

# 1. 检查版本
cat version.txt  # 应显示: v1.2.12

# 2. 检查服务
ps aux | grep "python.*app.py"  # 应看到进程

# 3. 访问界面
curl http://localhost:8090  # 应返回 HTML

# 4. 查看日志
tail -f media-renamer.log  # 应无错误


┌────────────────────────────────────────────────────────────────┐
│ 更新内容                                                        │
└────────────────────────────────────────────────────────────────┘

✅ Release Group: 13 → 100+ (增长 669%)
✅ 测试通过率: 92.6%
✅ 支持格式: 4 种
✅ 性能影响: < 10ms/文件

新增支持:
- 所有主流 PT 站点
- 20+ 动漫字幕组
- 20+ 国际组


┌────────────────────────────────────────────────────────────────┐
│ 需要帮助？                                                      │
└────────────────────────────────────────────────────────────────┘

📖 详细文档: SERVER-UPDATE-COMMANDS.md
📖 更新日志: CHANGELOG-v1.2.12.md
📖 快速开始: QUICK-START-v1.2.12.md

╔════════════════════════════════════════════════════════════════╗
║                    祝更新顺利！ 🚀                             ║
╚════════════════════════════════════════════════════════════════╝
