# 界面优化说明

## 优化目标

将Web界面上的功能说明从简单的列表形式，升级为详细的分步骤说明，让用户更清楚地了解整个处理流程。

---

## 优化前后对比

### 优化前（简单版）

```
🤖 智能重命名功能

自动处理：
• 递归扫描所有子文件夹
• 自动删除不支持的文件格式
• 智能识别电影和电视剧信息
• 🌐 豆瓣+TMDB自动获取中文标题
• 📁 智能分类到对应目录
• 去重保留最高清晰度版本
• 按标准格式重命名文件

命名格式：
• 电影：标题 (年份)/标题 (年份) - 格式.语言.扩展名
• 电视剧：标题 (年份)/Season X/标题 - S0XE0X - 第 X 集.语言.扩展名

💡 支持格式：mp4, mkv, ts, iso...
```

**问题：**
- ❌ 信息过于简略
- ❌ 没有说明处理流程
- ❌ 没有详细的功能说明
- ❌ 用户不清楚每一步做什么

---

### 优化后（详细版）

```
🚀 一键整理入库 - 完整处理流程

📂 步骤1：智能扫描
• 递归扫描待整理目录的所有子文件夹
• 自动识别媒体文件（视频）和字幕文件
• 自动删除不支持的文件格式（如txt、jpg等）
• 支持格式：mp4, mkv, ts, iso, rmvb, avi, mov...

🌐 步骤2：中文标题识别
• 豆瓣优先：完整标题查询 → 清理标题 → 渐进缩短 → 关键词查询
• TMDB备用：完整标题查询 → 不带年份 → 渐进缩短
• 智能缓存：相同标题不重复查询，提高效率
• 支持超长标题：如 "Apocalypse Bringer..." → "异世界默示录麦诺格拉"

📁 步骤3：智能分类
• 基于TMDB元数据：genre_ids（类型）+ origin_country（国家）+ original_language（语言）
• 电影分类：动画电影、华语电影、外语电影
• 电视剧分类：国漫、日番、纪录片、儿童、综艺、国产剧、欧美剧、日韩剧、未分类
• 自动创建：分类目录自动创建，无需手动操作

🎯 步骤4：智能去重
• 识别重复：相同标题+年份+季集 = 同一影片
• 质量评分：分辨率(4K=2160分) + 来源(REMUX=100分) + 编码(H.265=+10分) + 文件大小
• 自动保留：保留评分最高的版本
• 自动删除：删除低质量版本，释放空间

⚔️ 步骤5：冲突处理
• 自动比较：智能评分，保留最佳质量（评分相同且大小差异<1MB视为相同文件）
• 跳过：保留旧文件，不处理新文件（适合增量更新）
• 替换：直接用新文件替换旧文件（适合重新下载）
• 保留两个：新文件添加版本号.v1（适合多版本对比）

📝 步骤6：标准化重命名
• 电影格式：标题 (年份)/标题 (年份) - 分辨率.语言.扩展名
  示例：铃芽之旅 (2022)/铃芽之旅 (2022) - 1080p.chs.mkv
• 电视剧格式：标题 (年份)/Season X/标题 - S0XE0X - 第 X 集.语言.扩展名
  示例：异世界默示录麦诺格拉 (2025)/Season 1/异世界默示录麦诺格拉 - S01E01 - 第 01 集.mkv
• 符合规范：完美兼容Emby、Jellyfin、Plex等媒体服务器

🚚 步骤7：自动移动
• 电影：移动到 电影输出路径/分类目录/标题文件夹/
• 电视剧：移动到 电视剧输出路径/分类目录/标题文件夹/Season X/
• 自动创建：目标目录结构自动创建
• 网盘优化：操作间隔和延迟验证，确保网盘同步成功

🧹 步骤8：自动清理
• 清理跳过的文件：删除因质量相同或较差而跳过的文件
• 清理空文件夹：递归删除所有空文件夹（从底层向上）
• 释放空间：最大化释放磁盘空间
• 保持整洁：待整理目录处理完成后自动清空

💡 使用提示
• 首次使用：配置三个路径 → 选择"自动比较"策略 → 点击"一键整理入库"
• 日常使用：新文件放入待整理目录 → 点击按钮 → 自动完成所有操作
• 增量更新：使用"跳过"策略，只处理新增文件，不影响已整理的库
• 网盘用户：处理过程较慢属正常现象，系统已针对网盘优化
```

**优势：**
- ✅ 清晰的8步处理流程
- ✅ 每一步都有详细说明
- ✅ 包含实际示例
- ✅ 提供使用提示
- ✅ 用户完全了解系统在做什么

---

## 冲突策略说明优化

### 优化前

```
⚙️ 文件冲突处理策略：
[下拉选择框]
💡 自动比较会根据分辨率、来源质量、编码格式、文件大小综合评分
```

### 优化后

```
⚙️ 文件冲突处理策略
[下拉选择框]

📊 策略说明：

🤖 自动比较：综合评分系统
  • 分辨率：4K(2160分) > 1080p(1080分) > 720p(720分)
  • 来源：REMUX(100分) > BluRay(80分) > WEB-DL(60分) > WEBRip(40分)
  • 编码：H.265/HEVC(+10分) > H.264(0分)
  • 大小：评分相同时，文件越大越好（差异<1MB视为相同）
  ✓ 适合：日常使用，自动保留最佳版本

⏭️ 跳过：保守策略
  • 保留目标目录中的旧文件
  • 不处理待整理目录中的新文件
  ✓ 适合：增量更新，只添加新集数

🔄 替换：激进策略
  • 直接用新文件替换旧文件
  • 不进行质量比较
  ✓ 适合：重新下载更好的版本

📦 保留两个：收藏策略
  • 保留旧文件
  • 新文件添加版本号（.v1, .v2...）
  ✓ 适合：多版本对比，不同字幕组
```

---

## 视觉优化

### 1. 分步骤展示

使用渐变色背景块区分每个步骤：
```css
background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
padding: 15px;
border-radius: 8px;
margin-bottom: 15px;
```

### 2. 图标和颜色

- 📂 蓝色 - 扫描
- 🌐 蓝色 - 识别
- 📁 蓝色 - 分类
- 🎯 蓝色 - 去重
- ⚔️ 蓝色 - 冲突
- 📝 蓝色 - 重命名
- 🚚 蓝色 - 移动
- 🧹 蓝色 - 清理

### 3. 提示框

使用黄色背景的提示框：
```css
background: #fff3cd;
border-left: 4px solid #ffc107;
color: #856404;
```

### 4. 策略说明框

使用白色背景+蓝色左边框：
```css
background: white;
border-left: 4px solid #667eea;
```

---

## 用户体验提升

### 1. 信息层次清晰

```
标题（大字体、粗体）
  ↓
步骤标题（颜色、图标）
  ↓
详细说明（列表）
  ↓
示例（小字体、灰色）
  ↓
提示（黄色背景）
```

### 2. 关键信息突出

- **粗体**：重要概念
- `代码样式`：技术术语
- 颜色：不同类型的信息
- 图标：快速识别

### 3. 实际示例

每个功能都提供实际示例：
- 文件名示例
- 路径示例
- 评分示例
- 使用场景示例

### 4. 使用提示

针对不同用户场景提供建议：
- 首次使用
- 日常使用
- 增量更新
- 网盘用户

---

## 效果对比

| 维度 | 优化前 | 优化后 |
|------|--------|--------|
| **信息量** | 简略 | 详细完整 |
| **可读性** | 一般 | 优秀 |
| **理解度** | 需要猜测 | 一目了然 |
| **专业度** | 基础 | 专业 |
| **视觉效果** | 单调 | 丰富 |
| **用户体验** | 一般 | 优秀 |

---

## 总结

通过这次优化，Web界面的功能说明从简单的列表升级为：

1. ✅ **8步完整流程**：用户清楚知道每一步在做什么
2. ✅ **详细的功能说明**：每个功能都有详细解释
3. ✅ **实际示例**：提供真实的文件名和路径示例
4. ✅ **策略对比**：4种冲突策略的详细说明和适用场景
5. ✅ **使用提示**：针对不同场景的使用建议
6. ✅ **视觉优化**：使用颜色、图标、背景色区分不同内容
7. ✅ **专业性提升**：展示技术细节（评分系统、元数据等）

现在用户打开页面就能完全了解系统的功能和使用方法，大大提升了用户体验！
