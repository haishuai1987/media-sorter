# Media Renamer v2.8.0 使用手册

## 📖 完整功能说明

本手册详细介绍 Media Renamer v2.8.0 的所有功能和使用方法。

---

## 🎨 界面概览

### 顶部导航栏

| 标签 | 功能 | 说明 |
|------|------|------|
| 📦 批量处理 | 批量识别和重命名 | 主要功能，处理多个文件 |
| 🔍 文件识别 | 单文件识别测试 | 测试识别效果 |
| ✏️ 批量编辑 | 高级批量编辑 | 6种编辑操作 |
| 📜 历史记录 | 查看处理历史 | 完整的历史记录 |
| ⚙️ 配置管理 | 保存和管理配置 | 配置导入导出 |
| 📝 模板管理 | 管理命名模板 | 自定义模板 |
| 📚 识别词 | 管理识别词 | 屏蔽词和替换词 |
| 📊 统计信息 | 系统统计 | 处理统计 |

### 右上角按钮

| 按钮 | 功能 | 快捷键 |
|------|------|--------|
| 🌍 | 切换语言 | Ctrl+L |
| ⌨️ | 快捷键帮助 | Ctrl+/ |
| 🌙/☀️ | 切换主题 | Ctrl+T |

---

## 📦 批量处理

### 功能说明

批量识别和重命名媒体文件，支持电影和电视剧。

### 使用方法

#### 1. 输入文件列表

**方式一：文本输入**
```
在文本框中输入文件名，每行一个：
The.Matrix.1999.1080p.BluRay.x264.mkv
Inception.2010.2160p.UHD.BluRay.x265.mkv
权力的游戏.S01E01.1080p.WEB-DL.H264.mp4
```

**方式二：拖拽上传**
- 将文件拖拽到拖拽区域
- 自动读取文件名

**方式三：导入列表**
- 点击"📥 导入列表"
- 选择 TXT 或 CSV 文件
- 自动导入文件名

**方式四：列表视图**
- 点击"🔄 切换视图"
- 切换到列表模式
- 拖拽调整顺序
- 点击删除按钮移除文件

#### 2. 选择模板

**电影模板**：
- 默认：`电影名 (年份)/电影名 (年份) [1080p-BluRay].mkv`
- 简单：`电影名 (年份)/电影名 (年份).mkv`
- 详细：`电影名 (年份)/电影名 (年份) [1080p H264 AAC BluRay].mkv`

**电视剧模板**：
- 默认：`剧名/Season 01/剧名 - S01E01 [1080p-WEB-DL].mkv`
- 简单：`剧名/S01/剧名 - S01E01.mkv`
- 详细：`剧名/Season 01/剧名 - S01E01 [1080p H265 DTS WEB-DL].mkv`

#### 3. 设置选项

- **优先级**：Normal（普通）/ High（高）/ Low（低）
- **使用队列管理**：启用队列处理

#### 4. 预览和处理

1. 点击"👁️ 预览"查看结果
2. 检查识别是否正确
3. 点击"🚀 开始处理"执行重命名
4. 查看实时进度

#### 5. 导出结果

- 点击"📤 导出结果"
- 保存为 TXT 或 CSV 文件

---

## 🔍 文件识别

### 功能说明

测试单个文件的识别效果，查看详细的识别信息。

### 使用方法

1. 输入文件名
2. 选择模板
3. 点击"🔍 识别"
4. 查看识别结果

### 识别信息

- 原始文件名
- 识别的标题
- 年份
- 季数/集数（电视剧）
- 分辨率
- 视频编码
- 音频编码
- 来源
- 新文件名

---

## ✏️ 批量编辑

### 功能说明

高级批量编辑功能，支持6种编辑操作。

### 编辑操作

#### 1. 添加前缀
在文件名前添加文本
```
输入: test.mkv
前缀: [1080p]
输出: [1080p]test.mkv
```

#### 2. 添加后缀
在文件名后（扩展名前）添加文本
```
输入: test.mkv
后缀: -fixed
输出: test-fixed.mkv
```

#### 3. 替换文本
替换文件名中的文本
```
输入: test.old.mkv
查找: old
替换: new
输出: test.new.mkv
```

#### 4. 删除文本
删除文件名中的文本
```
输入: test.sample.mkv
删除: .sample
输出: test.mkv
```

#### 5. 正则替换
使用正则表达式替换
```
输入: test.2023.mkv
正则: \.\d{4}\.
替换: .
输出: test.mkv
```

#### 6. 大小写转换
- 全部大写：TEST.MKV
- 全部小写：test.mkv
- 首字母大写：Test.mkv

### 使用方法

1. 输入文件列表
2. 选择编辑操作
3. 填写相关参数
4. 点击"👁️ 预览"查看结果
5. 点击"✅ 应用"执行编辑

---

## 📜 历史记录

### 功能说明

查看和管理所有处理历史记录。

### 功能特性

- 显示处理时间
- 显示原始文件名
- 显示新文件名
- 显示处理状态
- 搜索和过滤
- 分页加载

### 使用方法

1. 点击"历史记录"标签
2. 查看历史列表
3. 使用搜索框过滤
4. 点击"加载更多"查看更多
5. 点击"🗑️ 清空历史"删除所有记录

---

## ⚙️ 配置管理

### 功能说明

保存和管理常用配置，方便复用。

### 配置内容

- 模板选择
- 优先级设置
- 队列管理选项
- 其他处理选项

### 使用方法

#### 保存配置

1. 在批量处理页面设置好选项
2. 点击"配置管理"标签
3. 输入配置名称和描述
4. 点击"➕ 添加配置"

#### 使用配置

1. 在配置列表中找到配置
2. 点击"使用"按钮
3. 自动应用配置

#### 导入导出

- **导出**：点击"📤 导出"保存为 JSON 文件
- **导入**：点击"📥 导入"选择 JSON 文件

---

## 📝 模板管理

### 功能说明

管理文件命名模板，支持自定义模板。

### 预设模板

**电影模板**：
- movie_default
- movie_simple
- movie_detailed

**电视剧模板**：
- tv_default
- tv_simple
- tv_detailed

### 模板变量

| 变量 | 说明 | 示例 |
|------|------|------|
| `{title}` | 标题 | 流浪地球 |
| `{year}` | 年份 | 2019 |
| `{season}` | 季数 | 1 |
| `{season:02d}` | 季数（两位） | 01 |
| `{episode}` | 集数 | 1 |
| `{episode:02d}` | 集数（两位） | 01 |
| `{resolution}` | 分辨率 | 1080p |
| `{video_codec}` | 视频编码 | H264 |
| `{audio_codec}` | 音频编码 | AAC |
| `{source}` | 来源 | BluRay |
| `{ext}` | 扩展名 | mkv |

### 自定义模板

1. 点击"模板管理"标签
2. 输入模板名称
3. 输入模板格式
4. 点击"➕ 添加模板"

示例：
```
名称: my_movie
格式: {title} [{year}] - {resolution}.{ext}
结果: 流浪地球 [2019] - 1080p.mkv
```

---

## 📚 识别词管理

### 功能说明

管理自定义识别词，包括屏蔽词和替换词。

### 词类型

#### 1. 屏蔽词
从标题中移除的词
```
示例: sample, test, demo
效果: test.sample.mkv → test.mkv
```

#### 2. 替换词
替换标题中的词
```
示例: 
原词: 权利的游戏
替换: 权力的游戏
效果: 权利的游戏.mkv → 权力的游戏.mkv
```

### 使用方法

1. 点击"识别词"标签
2. 选择词类型
3. 输入词语
4. 输入替换词（替换词类型）
5. 点击"➕ 添加"

---

## 📊 统计信息

### 功能说明

查看系统运行统计信息。

### 统计内容

- 总处理文件数
- 成功处理数
- 失败处理数
- 平均处理时间
- 最近处理时间

---

## 🎨 主题和语言

### 主题切换

#### 自动模式（默认）
- 自动跟随系统主题
- 系统切换时自动更新
- 无需手动操作

#### 手动模式
- 左键点击主题按钮
- 在3种主题间切换：
  - ☀️ 亮色主题
  - 🌙 暗色主题
  - 🎨 高对比度

#### 恢复自动
- 右键点击主题按钮
- 恢复自动跟随系统

### 语言切换

- 点击 🌍 按钮
- 在中英文间切换
- 自动保存偏好
- 界面立即更新

---

## ⌨️ 快捷键

### 全局快捷键

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+/` | 显示帮助 | 显示快捷键帮助面板 |
| `Ctrl+T` | 切换主题 | 手动切换主题 |
| `Ctrl+L` | 切换语言 | 切换中英文 |
| `Escape` | 关闭弹窗 | 关闭当前弹窗 |

### 批量处理快捷键

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+P` | 预览 | 预览处理结果 |
| `Ctrl+Enter` | 开始处理 | 开始批量处理 |
| `Ctrl+I` | 导入 | 导入文件列表 |
| `Ctrl+E` | 导出 | 导出处理结果 |
| `Ctrl+K` | 清空 | 清空文件列表 |

---

## 💡 使用技巧

### 1. 首次使用
- 先用5-10个文件测试
- 检查识别准确度
- 调整模板和配置

### 2. 日常使用
- 使用拖拽上传
- 保存常用配置
- 使用快捷键提高效率

### 3. 批量处理
- 建议每次50-100个文件
- 使用预览功能检查
- 导出结果备份

### 4. 列表视图
- 需要调整顺序时使用
- 拖拽排序更直观
- 可以删除单个文件

### 5. 历史记录
- 定期查看历史
- 搜索特定文件
- 清理旧记录

### 6. 配置管理
- 为不同场景创建配置
- 使用描述性名称
- 定期导出备份

---

## 🔧 高级功能

### 实时进度显示

处理文件时自动显示：
- 当前处理文件名
- 百分比进度
- 已完成/总数
- 处理速度

### 拖拽排序

在列表视图中：
- 拖拽文件项调整顺序
- 实时更新索引
- 自动同步到文本框

### 批量编辑

支持复杂的编辑操作：
- 正则表达式
- 批量替换
- 大小写转换

---

## 📝 最佳实践

### 文件命名规范

**电影**：
```
推荐: 电影名 (年份)/电影名 (年份) [质量].扩展名
示例: 流浪地球 (2019)/流浪地球 (2019) [1080p-BluRay].mkv
```

**电视剧**：
```
推荐: 剧名/Season XX/剧名 - SXXEXX [质量].扩展名
示例: 权力的游戏/Season 01/权力的游戏 - S01E01 [1080p-WEB-DL].mkv
```

### 模板选择

- **Plex/Jellyfin**：使用简单模板
- **个人收藏**：使用详细模板
- **NAS存储**：使用默认模板

### 配置管理

- 为不同媒体类型创建配置
- 使用清晰的命名
- 定期备份配置

---

## 🆘 常见问题

### Q: 识别不准确怎么办？
A: 
1. 检查文件名格式
2. 添加自定义识别词
3. 使用文件识别功能测试

### Q: 如何批量修改文件名？
A: 使用批量编辑功能，支持多种编辑操作

### Q: 如何保存常用设置？
A: 使用配置管理功能保存和复用配置

### Q: 如何查看处理历史？
A: 点击历史记录标签查看所有处理记录

### Q: 如何自定义命名模板？
A: 在模板管理中添加自定义模板

---

## 📚 相关文档

- [快速开始](./快速开始.md) - 快速上手指南
- [部署手册](./部署手册.md) - 部署说明
- [常见问题](./常见问题.md) - 更多问题解答
- [API 文档](./API文档.md) - API 接口说明
- [开发者指南](./开发者指南.md) - 开发文档

---

**祝使用愉快！** 🎉
