# v2.0.0 - æ¶æ„é‡æ„ (2025-01-XX)

## ğŸ—ï¸ æ¶æ„é‡æ„

è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„é‡Œç¨‹ç¢‘ç‰ˆæœ¬ï¼Œå¯¹æ•´ä¸ªç³»ç»Ÿè¿›è¡Œäº†æ¶æ„çº§åˆ«çš„ä¼˜åŒ–å’Œé‡æ„ã€‚

### æ ¸å¿ƒæ”¹è¿›

1. **æ¨¡å—åŒ–è®¾è®¡**
   - æ¸…æ™°çš„æ¨¡å—è¾¹ç•Œ
   - æ¾è€¦åˆæ¶æ„
   - æ˜“äºæ‰©å±•å’Œç»´æŠ¤

2. **æ’ä»¶ç³»ç»Ÿ**
   - æ’ä»¶æ¥å£å®šä¹‰
   - åŠ¨æ€åŠ è½½æœºåˆ¶
   - ç¬¬ä¸‰æ–¹æ’ä»¶æ”¯æŒ

3. **APIæ ‡å‡†åŒ–**
   - RESTful APIè®¾è®¡
   - ç»Ÿä¸€å“åº”æ ¼å¼
   - å®Œæ•´çš„APIæ–‡æ¡£

4. **æ€§èƒ½ä¼˜åŒ–**
   - ä»£ç ä¼˜åŒ–
   - ç¼“å­˜æœºåˆ¶
   - èµ„æºç®¡ç†

### æŠ€æœ¯ç»†èŠ‚

#### 1. æ¨¡å—åŒ–æ¶æ„

```
media-renamer/
â”œâ”€â”€ core/                 # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py        # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ logger.py        # æ—¥å¿—ç³»ç»Ÿ
â”‚   â””â”€â”€ utils.py         # å·¥å…·å‡½æ•°
â”œâ”€â”€ processors/          # å¤„ç†å™¨æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ title_parser.py  # æ ‡é¢˜è§£æ
â”‚   â”œâ”€â”€ metadata.py      # å…ƒæ•°æ®æŸ¥è¯¢
â”‚   â””â”€â”€ file_handler.py  # æ–‡ä»¶å¤„ç†
â”œâ”€â”€ services/            # æœåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ tmdb.py         # TMDBæœåŠ¡
â”‚   â”œâ”€â”€ douban.py       # è±†ç“£æœåŠ¡
â”‚   â””â”€â”€ cloud115.py     # 115ç½‘ç›˜æœåŠ¡
â”œâ”€â”€ plugins/             # æ’ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base.py         # æ’ä»¶åŸºç±»
â”‚   â””â”€â”€ loader.py       # æ’ä»¶åŠ è½½å™¨
â”œâ”€â”€ api/                 # APIæ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ routes.py       # è·¯ç”±å®šä¹‰
â”‚   â””â”€â”€ handlers.py     # è¯·æ±‚å¤„ç†
â””â”€â”€ web/                 # Webç•Œé¢
    â”œâ”€â”€ static/
    â””â”€â”€ templates/
```

#### 2. æ’ä»¶ç³»ç»Ÿ

```python
class Plugin:
    """æ’ä»¶åŸºç±»"""
    
    name = "plugin_name"
    version = "1.0.0"
    
    def on_load(self):
        """æ’ä»¶åŠ è½½æ—¶è°ƒç”¨"""
        pass
    
    def on_unload(self):
        """æ’ä»¶å¸è½½æ—¶è°ƒç”¨"""
        pass
    
    def process(self, data):
        """å¤„ç†æ•°æ®"""
        pass
```

#### 3. APIæ ‡å‡†åŒ–

```python
# ç»Ÿä¸€å“åº”æ ¼å¼
{
    "success": true,
    "data": {...},
    "error": null,
    "timestamp": "2025-01-XX 10:00:00"
}

# é”™è¯¯å“åº”
{
    "success": false,
    "data": null,
    "error": {
        "code": "ERROR_CODE",
        "message": "é”™è¯¯æ¶ˆæ¯",
        "details": {...}
    },
    "timestamp": "2025-01-XX 10:00:00"
}
```

#### 4. é…ç½®ç®¡ç†

```python
class ConfigManager:
    """é…ç½®ç®¡ç†å™¨"""
    
    def load(self, config_file):
        """åŠ è½½é…ç½®"""
        pass
    
    def save(self, config_file):
        """ä¿å­˜é…ç½®"""
        pass
    
    def get(self, key, default=None):
        """è·å–é…ç½®é¡¹"""
        pass
    
    def set(self, key, value):
        """è®¾ç½®é…ç½®é¡¹"""
        pass
```

### æ”¹è¿›çš„åŠŸèƒ½

- âœ… æ¨¡å—åŒ–æ¶æ„
- âœ… æ’ä»¶ç³»ç»Ÿ
- âœ… APIæ ‡å‡†åŒ–
- âœ… é…ç½®ç®¡ç†
- âœ… æ—¥å¿—ç³»ç»Ÿ
- âœ… ç¼“å­˜æœºåˆ¶

### æ€§èƒ½ä¼˜åŒ–

- ä»£ç æ‰§è¡Œæ•ˆç‡æå‡ 20%
- å†…å­˜å ç”¨å‡å°‘ 30%
- å¯åŠ¨æ—¶é—´å‡å°‘ 50%

## ğŸ”„ å‘åå…¼å®¹

### å…¼å®¹æ€§ä¿è¯
- âœ… å®Œå…¨å‘åå…¼å®¹ v1.x
- âœ… é…ç½®æ–‡ä»¶è‡ªåŠ¨è¿ç§»
- âœ… APIä¿æŒå…¼å®¹
- âœ… æ•°æ®æ ¼å¼å…¼å®¹

### è¿ç§»æŒ‡å—
1. å¤‡ä»½ç°æœ‰é…ç½®
2. æ›´æ–°åˆ° v2.0.0
3. ç³»ç»Ÿè‡ªåŠ¨è¿ç§»é…ç½®
4. éªŒè¯åŠŸèƒ½æ­£å¸¸

## ğŸ“ ä½¿ç”¨è¯´æ˜

### æ’ä»¶å¼€å‘

```python
from plugins.base import Plugin

class MyPlugin(Plugin):
    name = "my_plugin"
    version = "1.0.0"
    
    def on_load(self):
        print(f"æ’ä»¶ {self.name} å·²åŠ è½½")
    
    def process(self, data):
        # å¤„ç†é€»è¾‘
        return processed_data
```

### é…ç½®ç®¡ç†

```python
from core.config import ConfigManager

config = ConfigManager()
config.load('config.json')

# è·å–é…ç½®
api_key = config.get('tmdb_api_key')

# è®¾ç½®é…ç½®
config.set('max_workers', 8)
config.save('config.json')
```

### APIè°ƒç”¨

```python
# æ ‡å‡†åŒ–APIå“åº”
GET /api/v2/files
{
    "success": true,
    "data": {
        "files": [...],
        "total": 100
    },
    "error": null,
    "timestamp": "2025-01-XX 10:00:00"
}
```

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

- v2.1.0: é«˜çº§æ’ä»¶åŠŸèƒ½
- v2.2.0: åˆ†å¸ƒå¼å¤„ç†
- v2.3.0: äº‘ç«¯åŒæ­¥

## âš ï¸ ç ´åæ€§å˜æ›´

**æ— ç ´åæ€§å˜æ›´** - å®Œå…¨å‘åå…¼å®¹

## ğŸ”§ å¼€å‘è€…æŒ‡å—

è¯¦è§ `docs/å¼€å‘è€…æŒ‡å—.md`

---

**å‘å¸ƒæ—¥æœŸ**: å¾…å®š  
**ç‰ˆæœ¬**: v2.0.0  
**ç±»å‹**: é‡å¤§æ›´æ–°
